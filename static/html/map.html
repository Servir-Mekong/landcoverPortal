<!DOCTYPE html>


<html>
<head>

    <meta http-equiv="content-type" content="text/html; charset=UTF-8">
    <meta charset="utf-8">
    <title>SERVIR-Mekong Landcover Viewer</title>
    <meta name="generator" content="Bootply" />
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <link href="/static/css/bootstrap.min.css" rel="stylesheet">
    <link href="/static/css/styles.css" rel="stylesheet">

    <!-- Load the Google Maps API. -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.0.2/jquery.min.js"></script>
    <script src="/static/js/bootstrap.min.js"></script>

    <!-- Load the Google Maps API. -->
    <script type="text/javascript" src="http://code.highcharts.com/highcharts.js"></script>
    <script type="text/javascript" src="http://code.highcharts.com/highcharts-more.js"></script>
    <script type="text/javascript" src="http://code.highcharts.com/modules/exporting.js"></script>
    <script src="http://highcharts.github.io/export-csv/export-csv.js"></script>

    <script src="https://maps.google.com/maps/api/js?key=AIzaSyDWtKWNEapqRC6qdX_rO9oAQfS2CPkWtU0&libraries=drawing"></script>

    <!-- custom library to download maps -->
    <script type="text/javascript" src="http://www.google.com/jsapi"></script>


    <script src="/static/js/CustomControl.js"></script>
    <script src="/static/js/xmlwriter.js"></script>
    <script src="/static/js/toGeoJSON.js"></script>
    <script src="/static/js/kml.js"></script>
    <script src="/static/js/scripts.js"></script>

	</head>

    <body>

      <div id="mf-content">
      <div class="mfooter-content">
          <p> Powered by <img src="/static/img/google.png" width=6%> Earth Engine</p>

          <p style="text-align: center;margin-top:-3%">&copy; Copyright 2017 SERVIR-Mekong</p>
      </div>
      </div>

    <!-- Fixed navbar -->
    <nav class="navbar navbar-inverse navbar-fixed-top">
      <div class="container">
        <div class="navbar-header">
          <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false" aria-controls="navbar">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </button>
          <a class="navbar-brand" href="#"><img class="navbar-img" src="/static/img/servir.png" align="left" hspace="10" style="margin-top:-1.4%">Land Cover Portal</a>
        </div>
        <div id="navbar" class="navbar-collapse collapse">
          <ul class="nav navbar-nav">
            <li><a href="/static/html/home.html">Home</a></li>
            <li class="active"><a href="/static/html/map.html">Map</a></li>
            <li><a href="/static/html/reference-data.html">Reference Data</a></li>
            <li><a href="/static/html/methods.html">Methods</a></li>
            <li><a href="/static/html/trainings.html">Trainings</a></li>
            <li><a href="/static/html/services.html">Service Delivery</a></li>
          </ul>
        </div><!--/.nav-collapse -->
      </div>
    </nav>


    <div id="main-container" class="container-fluid content">
        <!-- Example row of columns -->
        <div class="row">
            <div class="col-sm-2 leftview">
                <div class="top-panel" style="overflow-x:hidden;overflow-y:auto;">

                    <ul class="nav nav-tabs" style="padding-left: 5px; padding-top: 10px;">
                        <li class="active"><a data-toggle="tab" href="#toc">Land cover</a></li>
                        <li><a data-toggle="tab" href="#legend">Primitives</a></li>
                    </ul>

                    <div class="tab-content">
                        <div id="toc" class="tab-pane fade in active">


                            <div id="layerPanel" style="font-size: small; padding-left: 20px; padding-top: 15px; font-size: medium;">

                            <div id="layerPanel" style="font-size: small; padding-left: 20px; padding-top: 20px; font-size: medium;">
                            </div>

							<div class="legend-value">
								<div class="legend-block" style="background-color: #6f6f6f;"></div><label><input type="checkbox" class="lcbox" value="0" >Unknown</label>
							</div>

							<div class="legend-value">
								<div class="legend-block" style="background-color: #aec3d4;"></div><label><input type="checkbox" class="lcbox" value="1" >Surface water</label>
							</div>

							<div class="legend-value">
								<div class="legend-block" style="background-color: #b1f9ff;"></div><label><input type="checkbox" class="lcbox" value="2" >Snow and Ice</label>
							</div>

							<div class="legend-value">
								<div class="legend-block" style="background-color: #111149;"></div><label><input type="checkbox" class="lcbox" value="3" >Mangrove</label>
							</div>

							<div class="legend-value">
								<div class="legend-block" style="background-color: #287463;"></div><label><input type="checkbox" class="lcbox" value="4" >Flooded forest</label>
							</div>

							<div class="legend-value">
								<div class="legend-block" style="background-color: #152106;"></div><label><input type="checkbox" class="lcbox" value="5" >Deciduous forest</label>
							</div>

							<div class="legend-value">
								<div class="legend-block" style="background-color: #c3aa69;"></div><label><input type="checkbox" class="lcbox" value="6" >Orchard or Plantation forest</label>
							</div>

							<div class="legend-value">
								<div class="legend-block" style="background-color: #9ad2a5;"></div><label><input type="checkbox" class="lcbox" value="7" >Evergreen broadleaf alpine</label>
							</div>

							<div class="legend-value">
								<div class="legend-block" style="background-color: #7db087;"></div><label><input type="checkbox" class="lcbox" value="8" >Evergreen broadleaf</label>
							</div>

							<div class="legend-value">
								<div class="legend-block" style="background-color: #486f50;"></div><label><input type="checkbox" class="lcbox" value="9" >Evergreen needleleaf</label>
							</div>

							<div class="legend-value">
								<div class="legend-block" style="background-color: #387242;"></div><label><input type="checkbox" class="lcbox" value="10" >Evergreen mixed forest</label>
							</div>

							<div class="legend-value">
								<div class="legend-block" style="background-color: #115420;"></div><label><input type="checkbox" class="lcbox" value="11" >Mixed evergreen and deciduous</label>
							</div>

							<div class="legend-value">
								<div class="legend-block" style="background-color: #cc0013;"></div><label><input type="checkbox" class="lcbox" value="12" >Urban and Built up</label>
							</div>

							<div class="legend-value">
								<div class="legend-block" style="background-color: #8dc33b;"></div><label><input type="checkbox" class="lcbox" value="13" >Cropland</label>
							</div>

							<div class="legend-value">
								<div class="legend-block" style="background-color: #ffff00;"></div><label><input type="checkbox" class="lcbox" value="14" >Rice paddy</label>
							</div>

							<div class="legend-value">
								<div class="legend-block" style="background-color: #a1843b;"></div><label><input type="checkbox" class="lcbox" value="15" >Mudflat and intertidal</label>
							</div>

							<div class="legend-value">
								<div class="legend-block" style="background-color: #cec2a5;"></div><label><input type="checkbox" class="lcbox" value="16" >Mining</label>
							</div>

							<div class="legend-value">
								<div class="legend-block" style="background-color: #674c06;"></div><label><input type="checkbox" class="lcbox" value="17" >Barren</label>
							</div>

							<div class="legend-value">
								<div class="legend-block" style="background-color: #3bc3b2;"></div><label><input type="checkbox" class="lcbox" value="18" >Wetlands</label>
							</div>

							<div class="legend-value">
								<div class="legend-block" style="background-color: #f4a460;"></div><label><input type="checkbox" class="lcbox" value="19" >Grassland</label>
							</div>

							<div class="legend-value">
								<div class="legend-block" style="background-color: #800080;"></div><label><input type="checkbox" class="lcbox" value="20" >Shrubland</label>
							</div>


							<br>


							<div style="text-align:center" id="slidervalue"></div>
							<input type="range" min="2000" max="2015" step="1" value="2015", name="slider" id="slider">
							<p style="text-align:left;">2000<span style="float:right;">present</span></p>
							<br></br>
							<a id="DownloadLinkLuse1" target="_blank">Download Request</a>
							<a id="DownloadLinkLuse2" target="_blank">Download Data</a>

							</br>
							<p><b>Download:</b></p>
							<p>1. Select your area of interest.</p>

							<img style="margin:10px 0px" src="/static/img/download.png" align="middle"  width="100">

							<p>2. Click the Download button.</p>
							<p>3. Download the map.</p>

                                <input type="file" id="fileOpen" style="visibility: hidden; width: 2px;" />

                            </div>
                        </div>


                        <div id="legend" class="tab-pane fade" style="padding-top: 30px;">

                            <table style="border: 0px;">
								<div class="legend-value">

								<div class="legend-value">
								<label><input type="radio", name="primitives", class="mybox" value="1" >Barren</label>
								</div>

								<div class="legend-value">
								<label><input type="radio", name="primitives", class="mybox" value="2" >Builtup </label>
								</div>

								<div class="legend-value">
								<label><input type="radio", name="primitives", class="mybox" value="3" >Canopy</label>
								</div>

								<div class="legend-value">
								<label><input type="radio", name="primitives", class="mybox" value="4" >Cropland</label>
								</div>

								<div class="legend-value">
								<label><input type="radio", name="primitives", class="mybox" value="5" >Deciduous</label>
								</div>

								<div class="legend-value">
								<label><input type="radio", name="primitives", class="mybox" value="6" >Ephemeral_water</label>
								</div>

								<div class="legend-value">
								<label><input type="radio", name="primitives", class="mybox" value="7" >Evergreen</label>
								</div>

								<div class="legend-value">
								<label><input type="radio", name="primitives", class="mybox" value="8" >Forest_cover </label>
								</div>

								<div class="legend-value">
								<label><input type="radio", name="primitives", class="mybox" value="9" >Grass</label>
								</div>

								<div class="legend-value">
								<label><input type="radio", name="primitives", class="mybox" value="10" >Mangrove</label>
								</div>

								<div class="legend-value">
								<label><input type="radio", name="primitives", class="mybox" value="11" >Mixed forest</label>
								</div>

								<div class="legend-value">
								<label><input type="radio", name="primitives", class="mybox" value="12" >Rice</label>
								</div>

								<div class="legend-value">
								<label><input type="radio", name="primitives", class="mybox" value="13" >Shrub </label>
								</div>

								<div class="legend-value">
								<label><input type="radio", name="primitives", class="mybox" value="14" >Snow ice</label>
								</div>

								<div class="legend-value">
								<label><input type="radio", name="primitives", class="mybox" value="15" >Surface water</label>
								</div>

								<div class="legend-value">
								<label><input type="radio", name="primitives", class="mybox" value="16" >Tree height</label>
								</div>


							<br>


							<div style="text-align:center"	 id="primitivevalue"></div>
							<input type="range" min="2000" max="2015" step="1" value="2015", name="primitiveslider" id="primitiveslider">
							<p style="text-align:left;">2000<span style="float:right;">present</span></p>
							<br></br>


							<a id="DownloadLinkPrimi1" target="_blank">Download Request</a>
							<a id="DownloadLinkPrimi2" target="_blank">Download Map</a>

							</br>

							</div>
                                <tr>
                                    <td>&nbsp;</td>
                                    <td>&nbsp;</td>
                                </tr>
                            </table>

                        </div>
                      </div>
                    </div>


                <div class="bottom-left-panel">


                    <div style="padding-left: 20px; padding-top: 20px; padding-right: 20px;">

                    </div>

                </div>

            </div>


            <div class="col-sm-7 mainview">
                <div class="top-panel">

                    <div id="map"></div>
                </div>
            </div>


            </div>
        </div>
    </div>

</div>

    <script>

        $(document).ready(function () {

            /**
            * Here we get the mapid and token for the map tiles that were generated
            * by Earth Engine using the Python script server.py and injected using
            * the Jinja2 templating engine.
            */
            initialize('{{ mapid }}', '{{ token }}');

            //initialize('{{ lcmapid }}', '{{ lctoken }}', '{{ elevmapid }}', '{{ elevtoken }}');

            //Setup drawingManager and load chart and info-graphics
            startupApp();

        });

    </script>




    <!-- Modal -->
    <div id="AboutSection" class="modal fade" role="dialog">
        <div class="modal-dialog">

            <!-- Modal content-->
            <div class="modal-content">
                <div class="modal-header">
                    <button type="button" class="close" data-dismiss="modal">&times;</button>
                    <h3 class=" ">Resource Identification Tool</h3>
                </div>
                <div class="modal-body" style="font-size:small;">
                    <p>This is a Google Earth Engine based application which allows extraction of information about various parameters (e.g. population, elevation,
                    temperature, precipitation, land cover, biodiversity, etc.) within the user defined area.

                    </p>

                    <p>
                    When a user draws a polygon or rectangle on map and clicks the Compute button, the application carries out the analysis in the
                    Google Earth Engine, the Goolgle's cloud based platform, and presents the result in the form of charts and info-graphics.
                        </p>

                   <p>
                       The list of datasets used in application are given below:
                       <ul>
                           <li><a href="http://sedac.ciesin.columbia.edu/data/collection/gpw-v3">CIESIN 1KM World Population Grid 2015</a></li>
                           <li><a href="http://www.worldclim.org">WorldClim 1km grid dataset of monthly mean temperature and precipitation for the period of 1950-2000 (24 raster data layers)</a> </li>
                           <li><a href="http://chg.geog.ucsb.edu/data/chirps/">CHIRPS 5 day time series precipitation data for 2015 (72 raster data layers)</a> </li>
                           <li><a href="https://lpdaac.usgs.gov/dataset_discovery/modis/modis_products_table/mcd12q1">MODIS 500m global land cover data for 2012</a></li>
                           <li><a href="http://www.cgiar-csi.org/data/srtm-90m-digital-elevation-database-v4-1">SRTM 90m elevation data</a> </li>
                           <li><a href="http://www.gbif.org/">Global Biodiversity Information Facility (GBIF) Occurrence data</a> </li>
                       </ul>
                       The aplication uses 7 different datasets and altogether some 100 data layers in the analysis. It uses an API provided by GBIF to query and access the occurrence
                       information from their occurrence database. Likewise, the area of the user defined polygon is calculated using function provided by Google Maps API. Apart from these,
                       all other analyses are done in Google Earth Engine using Google Earth Engine API.
                   </p>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
                </div>
            </div>

        </div>
    </div>




</body>
</html>
